
<!DOCTYPE html>
<!-- https://konvajs.org/docs/sandbox/Planets_Image_Map.html -->
<html>
  <head>
    <script src="https://unpkg.com/konva@4.0.17/konva.min.js"></script>
    <meta charset="utf-8" />
    <title>学习加载图片</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #f0f0f0;
      }

      label {
        color: white;
        vertical-align: top;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>

    <script>
      var width = window.innerWidth;
      var height = window.innerHeight;

      var stage = new Konva.Stage({
        container: 'container',
        width: width,
        height: height
      });


      var planetsLayer = new Konva.Layer();


      var imageObj = new Image();
      imageObj.onload = function() {
        console.log("### imageObj.onload")

        stage.add(planetsLayer);

        // draw planets
        var planetsContext = planetsLayer.getContext();
        var imgX = 0
        var imgY = 0
        planetsContext.drawImage(imageObj, imgX, imgY,width,height); //要铺满全屏的话,要设置成window的宽和高
      };
      imageObj.src = './all_machine.png';
    </script>
  </body>
</html>
